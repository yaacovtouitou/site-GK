{% extends 'base.html.twig' %}

{% block title %}Livre d'Or - G√©oula Kids{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <div class="text-center mb-10">
        <h1 class="text-4xl font-bold text-gk-blue-royal mb-2">üìñ Le Livre d'Or</h1>
        <p class="text-xl text-gray-600">Laisse un petit mot pour la G√©oula !</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

        {# Form Section #}
        <div class="bg-white rounded-3xl p-6 shadow-clay border-4 border-white h-fit sticky top-24">
            <h2 class="text-2xl font-bold text-gk-blue-royal mb-4">‚úçÔ∏è √âcris ton message</h2>
            {{ form_start(guestbookForm) }}
                <div class="mb-4">
                    {{ form_label(guestbookForm.pseudo, null, {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
                    {{ form_widget(guestbookForm.pseudo) }}
                </div>
                <div class="mb-6">
                    {{ form_label(guestbookForm.message, null, {'label_attr': {'class': 'block text-gray-700 font-bold mb-2'}}) }}
                    {{ form_widget(guestbookForm.message) }}
                </div>
                <button type="submit" class="w-full bg-gk-yellow-sun text-gk-blue-royal font-bold py-3 rounded-xl shadow-md btn-bounce hover:bg-yellow-400 transition">
                    Envoyer ma lettre üì®
                </button>
            {{ form_end(guestbookForm) }}
        </div>

        {# Messages List #}
        <div class="space-y-6">
            {% for msg in messages %}
                <div class="bg-white p-6 rounded-3xl shadow-soft border-l-8 border-gk-blue-sky relative">
                    <div class="absolute -left-4 -top-4 bg-gk-yellow-sun text-2xl w-10 h-10 flex items-center justify-center rounded-full shadow-sm border-2 border-white">
                        üí¨
                    </div>
                    <p class="text-gray-600 italic mb-4 text-lg">"{{ msg.message }}"</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100">
                        <span class="font-bold text-gk-blue-royal">{{ msg.pseudo }}</span>
                        <span class="text-xs text-gray-400">{{ msg.createdAt|date('d/m/Y') }}</span>
                    </div>
                </div>
            {% else %}
                <div class="text-center text-gray-400 py-10">
                    <p>Aucun message pour le moment. Sois le premier !</p>
                </div>
            {% endfor %}
        </div>

    </div>
</div>
{% endblock %}
